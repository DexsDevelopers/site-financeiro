{
  "version": "1.0.0",
  "automations": [
    {
      "id": "auto-deploy-on-commit",
      "name": "Deploy Automático no Commit",
      "description": "Executa deploy automaticamente quando há commits no repositório",
      "trigger": {
        "type": "git-commit",
        "branch": "main"
      },
      "command": {
        "type": "shell",
        "command": "powershell -ExecutionPolicy Bypass -File \".\\.cursor\\deploy.ps1\"",
        "workingDirectory": "${workspaceFolder}",
        "shell": {
          "executable": "powershell.exe",
          "args": ["-ExecutionPolicy", "Bypass"]
        }
      },
      "enabled": true,
      "notifications": {
        "onStart": "Iniciando deploy automático...",
        "onSuccess": "Deploy concluído com sucesso!",
        "onError": "Erro no deploy automático"
      }
    },
    {
      "id": "auto-commit-changes",
      "name": "Commit Automático de Mudanças",
      "description": "Faz commit automático de mudanças não commitadas",
      "trigger": {
        "type": "file-change",
        "patterns": ["*.php", "*.js", "*.css", "*.html", "*.json"]
      },
      "command": {
        "type": "shell",
        "command": "git add . && git commit -m \"Atualização automática - $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')\"",
        "workingDirectory": "${workspaceFolder}",
        "shell": {
          "executable": "powershell.exe"
        }
      },
      "enabled": true,
      "delay": 5000
    }
  ]
}
